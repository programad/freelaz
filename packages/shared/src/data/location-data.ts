export interface LocationData {
  city: string;
  country: string;
  state?: string; // For US states, Brazilian states, and European regions
  region?: string; // For Brazilian regions (Sudeste, Centro-Oeste, etc.) and other regional groupings
  costOfLiving: number; // USD monthly
  purchasingPowerIndex: number; // Relative to global average (100 = average)
  averageNetSalary: number; // USD monthly
  localDeveloperRates: {
    junior: number; // USD hourly
    mid: number; // USD hourly
    senior: number; // USD hourly
  };
  category: "tech_hub" | "business_center" | "capital" | "major_city";
  lastUpdated: string;
  // Search aliases for better discoverability
  aliases?: string[]; // Alternative names, abbreviations, PT-BR names
  namePortuguese?: string; // Portuguese name for international cities
}

// Comprehensive location database with consistent USD units
export const LOCATION_DATABASE: Record<string, LocationData> = {
  // === MAJOR US TECH HUBS ===
  "san-francisco-united-states": {
    city: "San Francisco",
    country: "United States",
    state: "California",
    region: "West Coast",
    costOfLiving: 3905,
    purchasingPowerIndex: 180,
    averageNetSalary: 8500,
    localDeveloperRates: { junior: 35, mid: 45, senior: 62 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["sf", "são francisco", "sao francisco", "san", "francisco"],
    namePortuguese: "São Francisco",
  },
  "san-jose-united-states": {
    city: "San Jose",
    country: "United States",
    state: "California",
    region: "West Coast",
    costOfLiving: 3810,
    purchasingPowerIndex: 175,
    averageNetSalary: 8200,
    localDeveloperRates: { junior: 42, mid: 55, senior: 72 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["san jose", "são josé", "sao jose"],
    namePortuguese: "São José",
  },
  "seattle-united-states": {
    city: "Seattle",
    country: "United States",
    state: "Washington",
    region: "West Coast",
    costOfLiving: 3200,
    purchasingPowerIndex: 160,
    averageNetSalary: 7200,
    localDeveloperRates: { junior: 40, mid: 52, senior: 68 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["seattle"],
  },
  "austin-united-states": {
    city: "Austin",
    country: "United States",
    state: "Texas",
    region: "South",
    costOfLiving: 2400,
    purchasingPowerIndex: 140,
    averageNetSalary: 5800,
    localDeveloperRates: { junior: 38, mid: 48, senior: 62 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["austin"],
  },
  "boston-united-states": {
    city: "Boston",
    country: "United States",
    state: "Massachusetts",
    region: "Northeast",
    costOfLiving: 3100,
    purchasingPowerIndex: 155,
    averageNetSalary: 6800,
    localDeveloperRates: { junior: 40, mid: 50, senior: 65 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["boston"],
  },
  "boulder-united-states": {
    city: "Boulder",
    country: "United States",
    state: "Colorado",
    region: "West",
    costOfLiving: 2800,
    purchasingPowerIndex: 145,
    averageNetSalary: 6200,
    localDeveloperRates: { junior: 38, mid: 48, senior: 62 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["boulder"],
  },

  // === MAJOR US BUSINESS CENTERS ===
  "new-york-city-united-states": {
    city: "New York City",
    country: "United States",
    state: "New York",
    region: "Northeast",
    costOfLiving: 4441,
    purchasingPowerIndex: 170,
    averageNetSalary: 7500,
    localDeveloperRates: { junior: 32, mid: 42, senior: 58 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["nyc", "new york", "nova york", "ny"],
    namePortuguese: "Nova York",
  },
  "chicago-united-states": {
    city: "Chicago",
    country: "United States",
    state: "Illinois",
    region: "Midwest",
    costOfLiving: 2678,
    purchasingPowerIndex: 145,
    averageNetSalary: 6200,
    localDeveloperRates: { junior: 36, mid: 46, senior: 60 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["chicago"],
  },
  "los-angeles-united-states": {
    city: "Los Angeles",
    country: "United States",
    state: "California",
    region: "West Coast",
    costOfLiving: 3196,
    purchasingPowerIndex: 150,
    averageNetSalary: 6800,
    localDeveloperRates: { junior: 40, mid: 50, senior: 65 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["la", "los angeles"],
  },
  "miami-united-states": {
    city: "Miami",
    country: "United States",
    state: "Florida",
    region: "South",
    costOfLiving: 2800,
    purchasingPowerIndex: 135,
    averageNetSalary: 5500,
    localDeveloperRates: { junior: 35, mid: 45, senior: 58 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["miami"],
  },
  "dallas-united-states": {
    city: "Dallas",
    country: "United States",
    state: "Texas",
    region: "South",
    costOfLiving: 2300,
    purchasingPowerIndex: 135,
    averageNetSalary: 5600,
    localDeveloperRates: { junior: 35, mid: 45, senior: 58 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["dallas"],
  },
  "san-diego-united-states": {
    city: "San Diego",
    country: "United States",
    state: "California",
    region: "West Coast",
    costOfLiving: 2900,
    purchasingPowerIndex: 145,
    averageNetSalary: 6200,
    localDeveloperRates: { junior: 38, mid: 48, senior: 62 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["san diego", "são diego", "sao diego"],
    namePortuguese: "São Diego",
  },

  // === US STATE CAPITALS & MAJOR CITIES ===
  "albany-united-states": {
    city: "Albany",
    country: "United States",
    state: "New York",
    region: "Northeast",
    costOfLiving: 2200,
    purchasingPowerIndex: 125,
    averageNetSalary: 4800,
    localDeveloperRates: { junior: 32, mid: 42, senior: 55 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["albany"],
  },
  "atlanta-united-states": {
    city: "Atlanta",
    country: "United States",
    state: "Georgia",
    region: "South",
    costOfLiving: 2300,
    purchasingPowerIndex: 130,
    averageNetSalary: 5200,
    localDeveloperRates: { junior: 34, mid: 44, senior: 57 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["atlanta"],
  },
  "denver-united-states": {
    city: "Denver",
    country: "United States",
    state: "Colorado",
    region: "West",
    costOfLiving: 2600,
    purchasingPowerIndex: 135,
    averageNetSalary: 5800,
    localDeveloperRates: { junior: 36, mid: 46, senior: 60 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["denver"],
  },
  "sacramento-united-states": {
    city: "Sacramento",
    country: "United States",
    state: "California",
    region: "West Coast",
    costOfLiving: 2800,
    purchasingPowerIndex: 140,
    averageNetSalary: 5600,
    localDeveloperRates: { junior: 36, mid: 46, senior: 60 }, // California capital
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["sacramento"],
  },
  "phoenix-united-states": {
    city: "Phoenix",
    country: "United States",
    state: "Arizona",
    region: "West",
    costOfLiving: 2395,
    purchasingPowerIndex: 130,
    averageNetSalary: 5200,
    localDeveloperRates: { junior: 34, mid: 44, senior: 57 }, // Growing market
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["phoenix"],
  },
  "raleigh-united-states": {
    city: "Raleigh",
    country: "United States",
    state: "North Carolina",
    region: "South",
    costOfLiving: 2100,
    purchasingPowerIndex: 130,
    averageNetSalary: 5000,
    localDeveloperRates: { junior: 34, mid: 44, senior: 57 }, // Research Triangle
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["raleigh"],
  },
  "nashville-united-states": {
    city: "Nashville",
    country: "United States",
    state: "Tennessee",
    region: "South",
    costOfLiving: 2000,
    purchasingPowerIndex: 125,
    averageNetSalary: 4800,
    localDeveloperRates: { junior: 32, mid: 42, senior: 55 }, // Music city tech
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["nashville"],
  },
  "salt-lake-city-united-states": {
    city: "Salt Lake City",
    country: "United States",
    state: "Utah",
    region: "West",
    costOfLiving: 2200,
    purchasingPowerIndex: 130,
    averageNetSalary: 5000,
    localDeveloperRates: { junior: 33, mid: 43, senior: 56 }, // Silicon Slopes
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["salt lake city", "slc"],
  },
  "portland-united-states": {
    city: "Portland",
    country: "United States",
    state: "Oregon",
    region: "West Coast",
    costOfLiving: 2500,
    purchasingPowerIndex: 135,
    averageNetSalary: 5400,
    localDeveloperRates: { junior: 36, mid: 46, senior: 60 }, // Nike/Intel hub
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["portland"],
  },
  "washington-dc-united-states": {
    city: "Washington D.C.",
    country: "United States",
    state: "District of Columbia",
    region: "Northeast",
    costOfLiving: 3000,
    purchasingPowerIndex: 150,
    averageNetSalary: 6500,
    localDeveloperRates: { junior: 40, mid: 52, senior: 68 }, // Government tech hub
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["washington", "dc", "washington dc"],
  },

  // === BRAZILIAN STATE CAPITALS ===
  "sao-paulo-brazil": {
    city: "São Paulo",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 976,
    purchasingPowerIndex: 85,
    averageNetSalary: 1200,
    localDeveloperRates: { junior: 15, mid: 25, senior: 40 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["sp", "são paulo", "sao paulo", "sampa"],
  },
  "rio-de-janeiro-brazil": {
    city: "Rio de Janeiro",
    country: "Brazil",
    state: "Rio de Janeiro",
    region: "Sudeste",
    costOfLiving: 850,
    purchasingPowerIndex: 80,
    averageNetSalary: 1000,
    localDeveloperRates: { junior: 12, mid: 20, senior: 35 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["rj", "rio", "rio de janeiro"],
  },
  "brasilia-brazil": {
    city: "Brasília",
    country: "Brazil",
    state: "Distrito Federal",
    region: "Centro-Oeste",
    costOfLiving: 900,
    purchasingPowerIndex: 90,
    averageNetSalary: 1400,
    localDeveloperRates: { junior: 18, mid: 28, senior: 45 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["df", "brasília", "brasilia", "bsb"],
  },
  "belo-horizonte-brazil": {
    city: "Belo Horizonte",
    country: "Brazil",
    state: "Minas Gerais",
    region: "Sudeste",
    costOfLiving: 750,
    purchasingPowerIndex: 85,
    averageNetSalary: 950,
    localDeveloperRates: { junior: 12, mid: 18, senior: 30 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["bh", "belo horizonte", "mg"],
  },
  "porto-alegre-brazil": {
    city: "Porto Alegre",
    country: "Brazil",
    state: "Rio Grande do Sul",
    region: "Sul",
    costOfLiving: 720,
    purchasingPowerIndex: 85,
    averageNetSalary: 900,
    localDeveloperRates: { junior: 10, mid: 16, senior: 28 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["poa", "porto alegre", "rs"],
  },
  "recife-brazil": {
    city: "Recife",
    country: "Brazil",
    state: "Pernambuco",
    region: "Nordeste",
    costOfLiving: 650,
    purchasingPowerIndex: 75,
    averageNetSalary: 750,
    localDeveloperRates: { junior: 8, mid: 14, senior: 22 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["recife", "pe"],
  },
  "salvador-brazil": {
    city: "Salvador",
    country: "Brazil",
    state: "Bahia",
    region: "Nordeste",
    costOfLiving: 680,
    purchasingPowerIndex: 75,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 9, mid: 15, senior: 24 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["salvador", "ssa", "ba"],
  },
  "fortaleza-brazil": {
    city: "Fortaleza",
    country: "Brazil",
    state: "Ceará",
    region: "Nordeste",
    costOfLiving: 620,
    purchasingPowerIndex: 75,
    averageNetSalary: 700,
    localDeveloperRates: { junior: 8, mid: 12, senior: 20 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["fortaleza", "ce"],
  },
  "curitiba-brazil": {
    city: "Curitiba",
    country: "Brazil",
    state: "Paraná",
    region: "Sul",
    costOfLiving: 780,
    purchasingPowerIndex: 85,
    averageNetSalary: 950,
    localDeveloperRates: { junior: 11, mid: 17, senior: 28 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["curitiba", "cwb", "pr"],
  },
  "manaus-brazil": {
    city: "Manaus",
    country: "Brazil",
    state: "Amazonas",
    region: "Norte",
    costOfLiving: 700,
    purchasingPowerIndex: 70,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 9, mid: 14, senior: 22 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["manaus", "mao", "am"],
  },
  "goiania-brazil": {
    city: "Goiânia",
    country: "Brazil",
    state: "Goiás",
    region: "Centro-Oeste",
    costOfLiving: 680,
    purchasingPowerIndex: 80,
    averageNetSalary: 850,
    localDeveloperRates: { junior: 10, mid: 15, senior: 25 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["goiânia", "goiania", "gyn", "go"],
  },
  "florianopolis-brazil": {
    city: "Florianópolis",
    country: "Brazil",
    state: "Santa Catarina",
    region: "Sul",
    costOfLiving: 820,
    purchasingPowerIndex: 85,
    averageNetSalary: 1000,
    localDeveloperRates: { junior: 12, mid: 18, senior: 30 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["florianópolis", "florianopolis", "floripa", "fpolis", "sc"],
  },

  // === MAJOR BRAZILIAN CITIES (NON-CAPITALS) ===
  "campinas-brazil": {
    city: "Campinas",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 850,
    purchasingPowerIndex: 85,
    averageNetSalary: 1100,
    localDeveloperRates: { junior: 14, mid: 22, senior: 35 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["campinas", "camp"],
  },
  "santos-brazil": {
    city: "Santos",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 800,
    purchasingPowerIndex: 80,
    averageNetSalary: 950,
    localDeveloperRates: { junior: 12, mid: 18, senior: 30 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["santos"],
  },
  "sorocaba-brazil": {
    city: "Sorocaba",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 750,
    purchasingPowerIndex: 80,
    averageNetSalary: 900,
    localDeveloperRates: { junior: 11, mid: 17, senior: 28 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["sorocaba"],
  },
  "ribeirao-preto-brazil": {
    city: "Ribeirão Preto",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 720,
    purchasingPowerIndex: 80,
    averageNetSalary: 850,
    localDeveloperRates: { junior: 10, mid: 16, senior: 26 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["ribeirão preto", "ribeirao preto", "rp"],
  },
  "sao-jose-dos-campos-brazil": {
    city: "São José dos Campos",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 780,
    purchasingPowerIndex: 82,
    averageNetSalary: 950,
    localDeveloperRates: { junior: 12, mid: 18, senior: 30 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["são josé dos campos", "sao jose dos campos", "sjc", "sjcampos"],
  },
  "guarulhos-brazil": {
    city: "Guarulhos",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 820,
    purchasingPowerIndex: 82,
    averageNetSalary: 980,
    localDeveloperRates: { junior: 13, mid: 20, senior: 32 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["guarulhos", "gru"],
  },
  "osasco-brazil": {
    city: "Osasco",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 850,
    purchasingPowerIndex: 82,
    averageNetSalary: 1000,
    localDeveloperRates: { junior: 13, mid: 20, senior: 33 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["osasco"],
  },
  "santo-andre-brazil": {
    city: "Santo André",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 820,
    purchasingPowerIndex: 82,
    averageNetSalary: 980,
    localDeveloperRates: { junior: 13, mid: 19, senior: 32 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["santo andré", "santo andre", "abc"],
  },
  "sao-bernardo-do-campo-brazil": {
    city: "São Bernardo do Campo",
    country: "Brazil",
    state: "São Paulo",
    region: "Sudeste",
    costOfLiving: 830,
    purchasingPowerIndex: 82,
    averageNetSalary: 1000,
    localDeveloperRates: { junior: 13, mid: 20, senior: 33 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["são bernardo do campo", "sao bernardo do campo", "sbc", "abc"],
  },
  "niteroi-brazil": {
    city: "Niterói",
    country: "Brazil",
    state: "Rio de Janeiro",
    region: "Sudeste",
    costOfLiving: 780,
    purchasingPowerIndex: 78,
    averageNetSalary: 900,
    localDeveloperRates: { junior: 11, mid: 17, senior: 28 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["niterói", "niteroi"],
  },
  "nova-iguacu-brazil": {
    city: "Nova Iguaçu",
    country: "Brazil",
    state: "Rio de Janeiro",
    region: "Sudeste",
    costOfLiving: 720,
    purchasingPowerIndex: 75,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 10, mid: 15, senior: 25 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["nova iguaçu", "nova iguacu", "ni"],
  },
  "duque-de-caxias-brazil": {
    city: "Duque de Caxias",
    country: "Brazil",
    state: "Rio de Janeiro",
    region: "Sudeste",
    costOfLiving: 700,
    purchasingPowerIndex: 75,
    averageNetSalary: 780,
    localDeveloperRates: { junior: 9, mid: 14, senior: 23 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["duque de caxias", "caxias"],
  },
  "contagem-brazil": {
    city: "Contagem",
    country: "Brazil",
    state: "Minas Gerais",
    region: "Sudeste",
    costOfLiving: 680,
    purchasingPowerIndex: 80,
    averageNetSalary: 850,
    localDeveloperRates: { junior: 10, mid: 15, senior: 25 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["contagem"],
  },
  "uberlandia-brazil": {
    city: "Uberlândia",
    country: "Brazil",
    state: "Minas Gerais",
    region: "Sudeste",
    costOfLiving: 650,
    purchasingPowerIndex: 78,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 9, mid: 14, senior: 23 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["uberlândia", "uberlandia", "udi"],
  },
  "juiz-de-fora-brazil": {
    city: "Juiz de Fora",
    country: "Brazil",
    state: "Minas Gerais",
    region: "Sudeste",
    costOfLiving: 620,
    purchasingPowerIndex: 75,
    averageNetSalary: 750,
    localDeveloperRates: { junior: 8, mid: 13, senior: 21 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["juiz de fora", "jf"],
  },
  "londrina-brazil": {
    city: "Londrina",
    country: "Brazil",
    state: "Paraná",
    region: "Sul",
    costOfLiving: 650,
    purchasingPowerIndex: 78,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 9, mid: 14, senior: 23 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["londrina"],
  },
  "maringa-brazil": {
    city: "Maringá",
    country: "Brazil",
    state: "Paraná",
    region: "Sul",
    costOfLiving: 630,
    purchasingPowerIndex: 78,
    averageNetSalary: 780,
    localDeveloperRates: { junior: 9, mid: 13, senior: 22 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["maringá", "maringa"],
  },
  "joinville-brazil": {
    city: "Joinville",
    country: "Brazil",
    state: "Santa Catarina",
    region: "Sul",
    costOfLiving: 700,
    purchasingPowerIndex: 80,
    averageNetSalary: 850,
    localDeveloperRates: { junior: 10, mid: 15, senior: 25 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["joinville"],
  },
  "blumenau-brazil": {
    city: "Blumenau",
    country: "Brazil",
    state: "Santa Catarina",
    region: "Sul",
    costOfLiving: 680,
    purchasingPowerIndex: 80,
    averageNetSalary: 820,
    localDeveloperRates: { junior: 10, mid: 15, senior: 24 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["blumenau"],
  },
  "caxias-do-sul-brazil": {
    city: "Caxias do Sul",
    country: "Brazil",
    state: "Rio Grande do Sul",
    region: "Sul",
    costOfLiving: 650,
    purchasingPowerIndex: 78,
    averageNetSalary: 800,
    localDeveloperRates: { junior: 9, mid: 14, senior: 23 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["caxias do sul", "caxias"],
  },
  "canoas-brazil": {
    city: "Canoas",
    country: "Brazil",
    state: "Rio Grande do Sul",
    region: "Sul",
    costOfLiving: 650,
    purchasingPowerIndex: 78,
    averageNetSalary: 780,
    localDeveloperRates: { junior: 9, mid: 13, senior: 22 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["canoas"],
  },
  "feira-de-santana-brazil": {
    city: "Feira de Santana",
    country: "Brazil",
    state: "Bahia",
    region: "Nordeste",
    costOfLiving: 580,
    purchasingPowerIndex: 70,
    averageNetSalary: 650,
    localDeveloperRates: { junior: 7, mid: 11, senior: 18 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["feira de santana", "feira"],
  },
  "vitoria-da-conquista-brazil": {
    city: "Vitória da Conquista",
    country: "Brazil",
    state: "Bahia",
    region: "Nordeste",
    costOfLiving: 550,
    purchasingPowerIndex: 68,
    averageNetSalary: 600,
    localDeveloperRates: { junior: 6, mid: 10, senior: 16 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["vitória da conquista", "vitoria da conquista", "conquista"],
  },
  "caucaia-brazil": {
    city: "Caucaia",
    country: "Brazil",
    state: "Ceará",
    region: "Nordeste",
    costOfLiving: 550,
    purchasingPowerIndex: 70,
    averageNetSalary: 620,
    localDeveloperRates: { junior: 7, mid: 10, senior: 17 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["caucaia"],
  },
  "jaboatao-dos-guararapes-brazil": {
    city: "Jaboatão dos Guararapes",
    country: "Brazil",
    state: "Pernambuco",
    region: "Nordeste",
    costOfLiving: 580,
    purchasingPowerIndex: 70,
    averageNetSalary: 650,
    localDeveloperRates: { junior: 7, mid: 11, senior: 18 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: [
      "jaboatão dos guararapes",
      "jaboatao dos guararapes",
      "jaboatão",
      "jaboatao",
    ],
  },
  "olinda-brazil": {
    city: "Olinda",
    country: "Brazil",
    state: "Pernambuco",
    region: "Nordeste",
    costOfLiving: 570,
    purchasingPowerIndex: 70,
    averageNetSalary: 630,
    localDeveloperRates: { junior: 7, mid: 10, senior: 17 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["olinda"],
  },
  "campo-grande-brazil": {
    city: "Campo Grande",
    country: "Brazil",
    state: "Mato Grosso do Sul",
    region: "Centro-Oeste",
    costOfLiving: 620,
    purchasingPowerIndex: 75,
    averageNetSalary: 750,
    localDeveloperRates: { junior: 8, mid: 12, senior: 20 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["campo grande", "cg", "ms"],
  },
  "cuiaba-brazil": {
    city: "Cuiabá",
    country: "Brazil",
    state: "Mato Grosso",
    region: "Centro-Oeste",
    costOfLiving: 630,
    purchasingPowerIndex: 75,
    averageNetSalary: 760,
    localDeveloperRates: { junior: 8, mid: 12, senior: 20 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["cuiabá", "cuiaba", "mt"],
  },
  "aparecida-de-goiania-brazil": {
    city: "Aparecida de Goiânia",
    country: "Brazil",
    state: "Goiás",
    region: "Centro-Oeste",
    costOfLiving: 600,
    purchasingPowerIndex: 75,
    averageNetSalary: 720,
    localDeveloperRates: { junior: 8, mid: 11, senior: 19 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["aparecida de goiânia", "aparecida de goiania", "aparecida"],
  },
  "belém-brazil": {
    city: "Belém",
    country: "Brazil",
    state: "Pará",
    region: "Norte",
    costOfLiving: 620,
    purchasingPowerIndex: 68,
    averageNetSalary: 680,
    localDeveloperRates: { junior: 7, mid: 11, senior: 18 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["belém", "belem", "pa"],
  },
  "ananindeua-brazil": {
    city: "Ananindeua",
    country: "Brazil",
    state: "Pará",
    region: "Norte",
    costOfLiving: 580,
    purchasingPowerIndex: 65,
    averageNetSalary: 620,
    localDeveloperRates: { junior: 6, mid: 10, senior: 16 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["ananindeua"],
  },

  // === EUROPEAN TECH HUBS ===
  "london-united-kingdom": {
    city: "London",
    country: "United Kingdom",
    state: "England",
    region: "Greater London",
    costOfLiving: 3296,
    purchasingPowerIndex: 140,
    averageNetSalary: 5500,
    localDeveloperRates: { junior: 35, mid: 50, senior: 70 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["london", "londres"],
    namePortuguese: "Londres",
  },
  "berlin-germany": {
    city: "Berlin",
    country: "Germany",
    state: "Berlin",
    region: "Brandenburg",
    costOfLiving: 2027,
    purchasingPowerIndex: 125,
    averageNetSalary: 3800,
    localDeveloperRates: { junior: 35, mid: 55, senior: 75 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["berlin", "berlim"],
    namePortuguese: "Berlim",
  },
  "amsterdam-netherlands": {
    city: "Amsterdam",
    country: "Netherlands",
    state: "North Holland",
    region: "North Holland",
    costOfLiving: 2791,
    purchasingPowerIndex: 135,
    averageNetSalary: 4800,
    localDeveloperRates: { junior: 45, mid: 65, senior: 90 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["amsterdam", "amsterdã"],
    namePortuguese: "Amsterdã",
  },
  "paris-france": {
    city: "Paris",
    country: "France",
    state: "Île-de-France",
    region: "Île-de-France",
    costOfLiving: 2800,
    purchasingPowerIndex: 130,
    averageNetSalary: 4500,
    localDeveloperRates: { junior: 40, mid: 60, senior: 85 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["paris"],
  },
  "stockholm-sweden": {
    city: "Stockholm",
    country: "Sweden",
    state: "Stockholm County",
    region: "Stockholm County",
    costOfLiving: 2600,
    purchasingPowerIndex: 140,
    averageNetSalary: 4800,
    localDeveloperRates: { junior: 45, mid: 65, senior: 90 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["stockholm", "estocolmo"],
    namePortuguese: "Estocolmo",
  },
  "barcelona-spain": {
    city: "Barcelona",
    country: "Spain",
    state: "Catalonia",
    region: "Catalonia",
    costOfLiving: 1800,
    purchasingPowerIndex: 115,
    averageNetSalary: 3200,
    localDeveloperRates: { junior: 28, mid: 42, senior: 60 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["barcelona"],
  },
  "madrid-spain": {
    city: "Madrid",
    country: "Spain",
    state: "Community of Madrid",
    region: "Community of Madrid",
    costOfLiving: 1900,
    purchasingPowerIndex: 120,
    averageNetSalary: 3400,
    localDeveloperRates: { junior: 30, mid: 45, senior: 65 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["madrid", "madri"],
    namePortuguese: "Madri",
  },
  "munich-germany": {
    city: "Munich",
    country: "Germany",
    state: "Bavaria",
    region: "Bavaria",
    costOfLiving: 2400,
    purchasingPowerIndex: 135,
    averageNetSalary: 4200,
    localDeveloperRates: { junior: 40, mid: 60, senior: 85 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["munich", "munique"],
    namePortuguese: "Munique",
  },
  "zurich-switzerland": {
    city: "Zurich",
    country: "Switzerland",
    state: "Zurich",
    region: "Zurich",
    costOfLiving: 3800,
    purchasingPowerIndex: 160,
    averageNetSalary: 7200,
    localDeveloperRates: { junior: 50, mid: 70, senior: 95 }, // High cost but realistic
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["zurich", "zurique"],
    namePortuguese: "Zurique",
  },
  "dublin-ireland": {
    city: "Dublin",
    country: "Ireland",
    state: "Leinster",
    region: "Leinster",
    costOfLiving: 2400,
    purchasingPowerIndex: 130,
    averageNetSalary: 4200,
    localDeveloperRates: { junior: 40, mid: 60, senior: 85 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["dublin"],
  },
  "lisbon-portugal": {
    city: "Lisbon",
    country: "Portugal",
    state: "Lisbon District",
    region: "Lisbon District",
    costOfLiving: 1400,
    purchasingPowerIndex: 105,
    averageNetSalary: 2200,
    localDeveloperRates: { junior: 20, mid: 32, senior: 48 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["lisbon", "lisboa"],
    namePortuguese: "Lisboa",
  },
  "helsinki-finland": {
    city: "Helsinki",
    country: "Finland",
    state: "Uusimaa",
    region: "Uusimaa",
    costOfLiving: 2200,
    purchasingPowerIndex: 125,
    averageNetSalary: 3800,
    localDeveloperRates: { junior: 35, mid: 52, senior: 75 },
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["helsinki", "helsinque"],
    namePortuguese: "Helsinque",
  },
  "warsaw-poland": {
    city: "Warsaw",
    country: "Poland",
    state: "Masovian Voivodeship",
    region: "Masovian Voivodeship",
    costOfLiving: 1200,
    purchasingPowerIndex: 110,
    averageNetSalary: 2400,
    localDeveloperRates: { junior: 22, mid: 35, senior: 52 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["warsaw", "varsóvia"],
    namePortuguese: "Varsóvia",
  },
  "krakow-poland": {
    city: "Krakow",
    country: "Poland",
    state: "Lesser Poland Voivodeship",
    region: "Lesser Poland Voivodeship",
    costOfLiving: 1100,
    purchasingPowerIndex: 115,
    averageNetSalary: 2200,
    localDeveloperRates: { junior: 20, mid: 32, senior: 48 },
    category: "major_city",
    lastUpdated: "2025-01-01",
    aliases: ["krakow", "cracóvia"],
    namePortuguese: "Cracóvia",
  },
  "prague-czech-republic": {
    city: "Prague",
    country: "Czech Republic",
    state: "Prague",
    region: "Prague",
    costOfLiving: 1300,
    purchasingPowerIndex: 115,
    averageNetSalary: 2600,
    localDeveloperRates: { junior: 24, mid: 38, senior: 55 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["prague", "praga"],
    namePortuguese: "Praga",
  },
  "budapest-hungary": {
    city: "Budapest",
    country: "Hungary",
    state: "Budapest",
    region: "Budapest",
    costOfLiving: 1000,
    purchasingPowerIndex: 105,
    averageNetSalary: 2000,
    localDeveloperRates: { junior: 18, mid: 28, senior: 42 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["budapest"],
  },
  "sofia-bulgaria": {
    city: "Sofia",
    country: "Bulgaria",
    state: "Sofia City Province",
    region: "Sofia City Province",
    costOfLiving: 800,
    purchasingPowerIndex: 95,
    averageNetSalary: 1400,
    localDeveloperRates: { junior: 12, mid: 20, senior: 32 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["sofia", "sófia"],
    namePortuguese: "Sófia",
  },
  "bucharest-romania": {
    city: "Bucharest",
    country: "Romania",
    state: "Bucharest",
    region: "Bucharest",
    costOfLiving: 900,
    purchasingPowerIndex: 100,
    averageNetSalary: 1600,
    localDeveloperRates: { junior: 15, mid: 24, senior: 38 },
    category: "capital",
    lastUpdated: "2025-01-01",
    aliases: ["bucharest", "bucareste"],
    namePortuguese: "Bucareste",
  },

  // === INTERNATIONAL HUBS ===
  "toronto-canada": {
    city: "Toronto",
    country: "Canada",
    state: "Ontario",
    region: "Central Canada",
    costOfLiving: 2453,
    purchasingPowerIndex: 120,
    averageNetSalary: 4500,
    localDeveloperRates: { junior: 35, mid: 50, senior: 70 }, // Canadian rates
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["toronto"],
  },
  "vancouver-canada": {
    city: "Vancouver",
    country: "Canada",
    state: "British Columbia",
    region: "Western Canada",
    costOfLiving: 2800,
    purchasingPowerIndex: 115,
    averageNetSalary: 4200,
    localDeveloperRates: { junior: 32, mid: 48, senior: 65 }, // Canadian tech hub
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["vancouver"],
  },
  "sydney-australia": {
    city: "Sydney",
    country: "Australia",
    state: "New South Wales",
    region: "New South Wales",
    costOfLiving: 2539,
    purchasingPowerIndex: 130,
    averageNetSalary: 4600,
    localDeveloperRates: { junior: 45, mid: 65, senior: 90 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["sydney"],
  },
  "melbourne-australia": {
    city: "Melbourne",
    country: "Australia",
    state: "Victoria",
    region: "Victoria",
    costOfLiving: 2194,
    purchasingPowerIndex: 125,
    averageNetSalary: 4200,
    localDeveloperRates: { junior: 40, mid: 60, senior: 80 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["melbourne"],
  },
  "singapore-singapore": {
    city: "Singapore",
    country: "Singapore",
    state: "Singapore",
    region: "Singapore",
    costOfLiving: 3059,
    purchasingPowerIndex: 145,
    averageNetSalary: 5200,
    localDeveloperRates: { junior: 38, mid: 55, senior: 75 }, // Singapore tech hub
    category: "tech_hub",
    lastUpdated: "2025-01-01",
    aliases: ["singapore", "singapura"],
    namePortuguese: "Singapura",
  },
  "tokyo-japan": {
    city: "Tokyo",
    country: "Japan",
    state: "Tokyo Metropolis",
    region: "Kanto",
    costOfLiving: 1607,
    purchasingPowerIndex: 110,
    averageNetSalary: 3200,
    localDeveloperRates: { junior: 30, mid: 45, senior: 65 },
    category: "business_center",
    lastUpdated: "2025-01-01",
    aliases: ["tokyo", "tóquio"],
    namePortuguese: "Tóquio",
  },
};

// Helper function to normalize text (remove diacritics and convert to lowercase)
function normalizeText(text: string): string {
  return text
    .toLowerCase()
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "") // Remove diacritics
    .trim();
}

// Utility functions
export function getLocationKey(city: string, country: string): string {
  // Normalize both city and country names to handle accents
  const normalizedCity = normalizeText(city).replace(/\s+/g, "-");
  const normalizedCountry = normalizeText(country).replace(/\s+/g, "-");
  return `${normalizedCity}-${normalizedCountry}`;
}

export function findLocationData(
  city: string,
  country: string
): LocationData | null {
  const key = getLocationKey(city, country);
  return LOCATION_DATABASE[key] || null;
}

export function getAllCities(): LocationData[] {
  return Object.values(LOCATION_DATABASE);
}

export function getCitiesByCategory(
  category: LocationData["category"]
): LocationData[] {
  return getAllCities().filter((city) => city.category === category);
}

export function getCitiesByCountry(country: string): LocationData[] {
  return getAllCities().filter(
    (city) => city.country.toLowerCase() === country.toLowerCase()
  );
}

export function searchCities(query: string): LocationData[] {
  const searchTerm = normalizeText(query);
  if (!searchTerm) return [];

  return getAllCities().filter((city) => {
    // Normalize all searchable fields
    const cityName = normalizeText(city.city);
    const countryName = normalizeText(city.country);
    const stateName = city.state ? normalizeText(city.state) : "";
    const regionName = city.region ? normalizeText(city.region) : "";
    const portugueseName = city.namePortuguese
      ? normalizeText(city.namePortuguese)
      : "";

    // Search in city name (both original and Portuguese)
    if (cityName.includes(searchTerm) || portugueseName.includes(searchTerm))
      return true;

    // Search in country
    if (countryName.includes(searchTerm)) return true;

    // Search in state
    if (stateName && stateName.includes(searchTerm)) return true;

    // Search in region
    if (regionName && regionName.includes(searchTerm)) return true;

    // Search in aliases (normalize each alias)
    if (city.aliases) {
      for (const alias of city.aliases) {
        const normalizedAlias = normalizeText(alias);
        // Check if alias contains search term (covers both exact match and partial match)
        if (normalizedAlias.includes(searchTerm)) {
          return true;
        }
      }
    }

    return false;
  });
}

// Statistics
export function getLocationStats() {
  const cities = getAllCities();
  const categories = cities.reduce((acc, city) => {
    acc[city.category] = (acc[city.category] || 0) + 1;
    return acc;
  }, {} as Record<string, number>);

  const countries = cities.reduce((acc, city) => {
    acc[city.country] = (acc[city.country] || 0) + 1;
    return acc;
  }, {} as Record<string, number>);

  return {
    totalCities: cities.length,
    categories,
    countries,
    averageCostOfLiving: Math.round(
      cities.reduce((sum, city) => sum + city.costOfLiving, 0) / cities.length
    ),
    averagePurchasingPower: Math.round(
      cities.reduce((sum, city) => sum + city.purchasingPowerIndex, 0) /
        cities.length
    ),
  };
}
